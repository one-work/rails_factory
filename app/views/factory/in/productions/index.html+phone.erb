<%= render 'filter_bar' %>

<div class="flex flex-grow-1">
  <%= render 'menu' unless @produce_plan %>
  <div
    data-controller="page"
    data-page-debug-value="true"
    data-action="touchmove->page#move:passive"
    class="weui-menu-content"
  >
    <div class="flex-grow-1 ml-3">
      <%= render partial: 'production', collection: @productions, as: :model, locals: { item_con: 'trade/mem/items' } %>
      <%= render 'loading' %>
      <% if @productions.total_pages == @productions.current_page %>
        <%= render 'no_more' %>
      <% elsif @productions.blank? %>
        <%= render 'blank' %>
      <% else %>
        <%= render 'tip' %>
      <% end %>
    </div>

    <%= render 'paginator' %>
  </div>
</div>
<%= render 'taxon' if params[:produce_on] && params[:scene_id] %>
